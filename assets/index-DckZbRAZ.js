import{E as f}from"./kaplay-C29j1WsK.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=e(o);fetch(o.href,s)}})();f({width:1520,height:760,letterbox:!0,debug:!0,background:[135,206,235]});loadRoot("./");scene("menu",()=>{add([text("   HASSAAAAANNN",{size:48}),pos(490,100),color(0,0,0)]),p("Start",vec2(760,400),()=>go("game")),p("Quit",vec2(760,500),()=>debug.log("bye"))});scene("game",()=>{loadSprite("ground","sprites/ground.png"),loadSprite("atam","sprites/atam.png"),loadSprite("player","sprites/player.png"),loadSprite("sun","sprites/sun.png"),loadSprite("cloud1","sprites/cloud1.png"),loadSprite("cloud2","sprites/cloud2.png"),loadSprite("tree","sprites/tree.png"),loadSprite("o1","sprites/o1.png"),loadSprite("o2","sprites/o2.png"),loadSprite("o3","sprites/o3.png"),loadSprite("oe","sprites/oe.png"),loadSprite("oe5","sprites/oe5.png"),add([rect(20,2e4),area(),outline(1),pos(0,40),body({isStatic:!0}),opacity(0)]),add([rect(500,20),area(),outline(1),pos(1100,300),body({isStatic:!0})]),add([rect(2e5,20),area(),outline(1),pos(0,660),body({isStatic:!0})]),add([sprite("atam"),pos(1400,500),scale(1),anchor("center"),z(100)]),add([sprite("sun"),pos(1350,100),scale(.2),anchor("center"),fixed()]),loadSprite("player","sprites/player.png",{sliceX:8,sliceY:8,anims:{idle:{from:0,to:0,speed:5,loop:!0},run:{from:1,to:3,loop:!0},"jump-up":8,"jump-down":9}});for(let t=0;t<40;t++)add([sprite("ground"),pos(t*400-800,height()+400),body({isStatic:!0}),anchor("botleft"),scale(.6),z(2)]);for(let t=0;t<40;t+=2)add([sprite("cloud1"),pos(t*400-800,height()-400),body({isStatic:!0}),anchor("botleft"),scale(.3),z(1)]);for(let t=2;t<40;t+=4)add([sprite("tree"),pos(t*400-800,height()-80),body({isStatic:!0}),anchor("botleft"),scale(.3),z(2)]);for(let t=1;t<40;t+=2)add([sprite("cloud1"),pos(t*400-800,height()-350),body({isStatic:!0}),anchor("botleft"),scale(.3),z(1)]);for(let t=0;t<40;t++)add([sprite("cloud2"),pos(t*400-600,height()+50),body({isStatic:!0}),anchor("botleft"),scale(.5),z(1)]);const n=480,i=300;setGravity(540);const e=add([sprite("player"),pos(center()),anchor("center"),area(),body(),z(3),scale(2)]);e.play("idle"),e.isSliding=!1;let r=0;const o=add([text(`Collected: ${r}/5`,{size:32}),pos(20,20),fixed(),z(100)]);loadSprite("sirik","sprites/sirik.png");const s=add([sprite("sirik"),pos(4100,400),scale(2),anchor("center"),area(),opacity(0),z(50),"vine"]);[{name:"o1",pos:vec2(1200,200)},{name:"o2",pos:vec2(1500,300)},{name:"o3",pos:vec2(2e3,300)},{name:"oe",pos:vec2(2500,300)},{name:"oe5",pos:vec2(3e3,300)}].forEach(t=>{add([sprite(t.name),pos(t.pos),area(),"collectible",scale(.2),z(4)])}),e.onCollide("collectible",t=>{destroy(t),r++,o.text=`Collected: ${r}/5 `,r===5&&(s.opacity=1,debug.log("Sırık mevcutlaştırıldı!"))}),e.onUpdate(()=>{const t=e.pos.x;setCamPos(vec2(t,360))}),e.onPhysicsResolve(()=>{const t=e.pos.x;setCamPos(vec2(t,360))}),e.onGround(()=>{!isKeyDown("left")&&!isKeyDown("right")&&!e.isSliding?e.play("idle"):e.isSliding||e.play("run")}),e.onAnimEnd(t=>{}),loadSprite("fasulye","sprites/fasulye.png");let d=0;onKeyPress("b",()=>{const t=add([sprite("fasulye"),pos(e.pos.x+20,e.pos.y),area(),move(RIGHT,800),anchor("center"),scale(.2),"fasulye"]);t.onCollide("vine",c=>{destroy(t),d++,d>=5&&(debug.log("Hayat Bitti!"),wait(1,()=>go("menu")))})});let l=5;const u=add([rect(200,20),pos(20,60),color(255,0,0),fixed(),z(100)]);onCollide("fasulye","vine",(t,c)=>{destroy(t),l--,u.width=l/5*200,l<=0&&(destroy(c),debug.log("Sırık yok edildi haha!"))}),e.onCollide("vine",()=>{destroy(e);const t=add([text("HAYAT BİTTİ",{size:100,font:"sink"}),pos(center().x,center().y-100),color(255,0,0),z(200),fixed()]);wait(4,()=>{destroy(t),go("menu")})}),e.jumpsLeft=2,onKeyPress("space",()=>{e.isGrounded()&&(e.jumpsLeft=40),e.jumpsLeft>0&&(e.jump(i),e.jumpsLeft--,(e.jumpsLeft===1||e.jumpsLeft===0)&&e.play("jump-up"))}),onKeyDown("left",()=>{e.isSliding||(e.move(-480,0),e.flipX=!0,e.isGrounded()&&e.getCurAnim().name!=="run"&&e.play("run"))}),onKeyDown("right",()=>{e.isSliding||(e.move(n,0),e.flipX=!1,e.isGrounded()&&e.getCurAnim().name!=="run"&&e.play("run"))}),["left","right"].forEach(t=>{onKeyRelease(t,()=>{e.isGrounded()&&!isKeyDown("left")&&!isKeyDown("right")&&!e.isSliding&&e.play("idle")})})});go("menu");function p(n="start game",i=vec2(200,100),e=()=>debug.log("hello")){const r=add([rect(240,80,{radius:8}),pos(i),area(),scale(1),anchor("center"),outline(4),color(255,255,255)]);return r.add([text(n),anchor("center"),color(0,0,0)]),r.onHoverUpdate(()=>{const o=time()*10;r.color=hsl2rgb(o/10%1,.6,.7),r.scale=vec2(1.2),setCursor("pointer")}),r.onHoverEnd(()=>{r.scale=vec2(1),r.color=rgb()}),r.onClick(e),r}
//# sourceMappingURL=index-DckZbRAZ.js.map
